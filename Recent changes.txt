Refactoring `Edge` into a class, stage 2.
Now edges are stored in `Symbol` instances as `Edge` objects, which simplified the main source file a lot.